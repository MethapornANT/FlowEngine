graph TD
    B_Start((เข้าสู่ B)) --> B1{ถึงเวลาตาม Schedule?}; 

    B1 -- ไม่ถึงเวลา --> B1_Log[บันทึก Log: ยังไม่ถึงรอบเวลา]; 
    B1_Log --> B_NotReady((ไม่พร้อม)); 

    B1 -- ถึงเวลา --> B2{ดึงสถานะล่าสุด?}; 
    B2 --> B3{สถานะล่าสุดประมวลผลเสร็จสมบูรณ์?};

    B3 -- ไม่สมบูรณ์ --> B4_Log[บันทึก Log: สถานะล้มเหลว];
    B4_Log --> B5[ส่งแจ้งเตือน Error ไปที่ Admin];
    B5 --> B_NotReady;

    B3 -- สมบูรณ์ --> B_Log_S[บันทึก Log: ระบบพร้อมทำงาน];
    B_Log_S --> B_Ready((พร้อม)); 

    B_Ready --> B_End[ออกจาก B: พร้อม];
    B_NotReady --> B_End;